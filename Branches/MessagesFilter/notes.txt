схема работы фильтра
  - безусловный пропуск
      адрес находится в белом списке
      в теме или в теле  сообщения есть код пропуска
      в теле сообщения есть белые слова
      слова-коды для безусловного пропуска

  - безусловный запрет
      адрес находится в черном списке


  - анализатор
      количество ссылок
      количество картинок
      черные слова
      приложенные файлы


написать отдельные функции для каждого вида анализа

генерация кода пропуска
  <Nevod AntiSpam: My best site>
 максимальная  длина кода - 255 символов

при поискае закрывающей скобки искать > начаная со стартовой позиции < на длину 255
функция генерирования кодов пропуска